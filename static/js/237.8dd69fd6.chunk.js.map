{"version":3,"file":"static/js/237.8dd69fd6.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","api/auth.js","components/InputBox.jsx","components/Button.jsx","pages/Login.jsx"],"sourcesContent":["import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import axios from \"axios\";\r\n\r\nconst SERVER_URL = process.env.REACT_APP_SERVER_URL;\r\nconst headers = { headers: { \"Content-Type\": \"application/json\" } };\r\nexport const postSignup = async (data) => {\r\n  try {\r\n    const res = await axios.post(`${SERVER_URL}/auth/signup`, data, headers);\r\n    if (res)\r\n      localStorage.setItem(\"access_token\", `Bearer ${res.data.access_token}`);\r\n    return res;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const postLogin = async (data) => {\r\n  try {\r\n    const res = await axios.post(`${SERVER_URL}/auth/signin`, data, headers);\r\n    if (res)\r\n      localStorage.setItem(\"access_token\", `Bearer ${res.data.access_token}`);\r\n    return res;\r\n  } catch (err) {\r\n    if (err.response.status === 404) {\r\n      return alert(\"회원정보가 일치하지 않습니다\");\r\n    } else console.log(err);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst InputBoxComponent = styled.div`\r\n  width: 300px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 10px 0;\r\n  input {\r\n    width: 100%;\r\n    height: 35px;\r\n    border: 1px solid #d9d9d9;\r\n    border-radius: 5px;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n    margin: 5px 0;\r\n  }\r\n  .error {\r\n    color: red;\r\n    font-size: 12px;\r\n  }\r\n`;\r\n\r\nfunction InputBox({ type, value, id, onChange }) {\r\n  const errorMsg = value[id] && value[id].check;\r\n  const deafultValue = value[id] && value[id].txt;\r\n  return (\r\n    <InputBoxComponent>\r\n      <label>{id}</label>\r\n      <input\r\n        type={type}\r\n        defaultValue={deafultValue}\r\n        id={id}\r\n        onChange={(e) => onChange(id, e.target.value)}\r\n      />\r\n      {errorMsg ? <div className=\"error\">{errorMsg}</div> : <></>}\r\n    </InputBoxComponent>\r\n  );\r\n}\r\n\r\nexport default InputBox;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ButtonComponent = styled.button`\r\n  width: ${({ style }) => (style && style.width ? style.width : \"300px\")};\r\n  height: ${({ style }) => (style && style.height ? style.height : \"40px\")};\r\n  cursor: ${({ style }) => (style && style.cursor ? \"pointer\" : \"not-allowed\")};\r\n  background: ${({ style }) => (style && style.cursor ? \"#f5d042\" : \"#d9d9d9\")};\r\n  border-radius: 5px;\r\n  border: 1px solid #d9d9d9;\r\n`;\r\n\r\nfunction Button({ children, style, onClick }) {\r\n  return (\r\n    <ButtonComponent style={style} onClick={onClick}>\r\n      {children}\r\n    </ButtonComponent>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { postLogin, postSignup } from \"../api/auth\";\r\n\r\nimport InputBox from \"../components/InputBox\";\r\nimport Button from \"../components/Button\";\r\n\r\nconst LoginComponent = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .menu {\r\n    display: flex;\r\n    width: 100%;\r\n    border: 1px solid black;\r\n    box-sizing: border-box;\r\n    border-bottom: none;\r\n    > div {\r\n      flex: 1;\r\n      text-align: center;\r\n      cursor: pointer;\r\n      padding: 10px 0;\r\n    }\r\n    .select {\r\n      background: #f5d042;\r\n    }\r\n  }\r\n  form {\r\n    border: 1px solid black;\r\n    width: 458px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    h1 {\r\n      font-size: 24px;\r\n      padding: 15px;\r\n    }\r\n    button {\r\n      margin: 15px 0;\r\n    }\r\n    padding: 15px;\r\n  }\r\n`;\r\n\r\nfunction Login() {\r\n  const [menu, setMenu] = useState(\"로그인\");\r\n  const menuArray = [\"로그인\", \"회원가입\"];\r\n  const menuClickHandler = (m) => setMenu(m);\r\n  const navigate = useNavigate();\r\n\r\n  const LOGIN_INITIAL = {\r\n    email: { txt: \"\", check: null },\r\n    password: { txt: \"\", check: null },\r\n  };\r\n  const SIGNUP_INITIAL = {\r\n    ...LOGIN_INITIAL,\r\n    passwordCheck: { txt: \"\", check: null },\r\n  };\r\n  const [userInfo, setUserInfo] = useState(LOGIN_INITIAL);\r\n  const [cursor, setCursor] = useState(false);\r\n  const onChange = (id, txt) => {\r\n    setUserInfo((state) => {\r\n      const newState = { ...state };\r\n      newState[id].txt = txt;\r\n      newState[id].check = validity(id, txt);\r\n      setCursor(checkCursor(newState));\r\n      return newState;\r\n    });\r\n  };\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (cursor) {\r\n      const data = {\r\n        email: userInfo.email.txt,\r\n        password: userInfo.password.txt,\r\n      };\r\n      if (menu === \"로그인\") {\r\n        postLogin(data).then((res) => res.status === 200 && navigate(\"/todo\"));\r\n      } else {\r\n        postSignup(data).then((res) => res.status === 201 && navigate(\"/todo\"));\r\n      }\r\n    }\r\n  };\r\n\r\n  const validity = (id, txt) => {\r\n    if (id === \"email\") {\r\n      if (!txt.includes(\"@\")) return \"이메일은 @가 포함되어야 합니다\";\r\n      else return true;\r\n    } else if (id === \"password\") {\r\n      if (txt.length < 8) return \"비밀번호는 8자리 이상이여야 합니다\";\r\n      else return true;\r\n    } else if (id === \"passwordCheck\") {\r\n      if (txt !== userInfo.password.txt) return \"비밀번호가 다릅니다\";\r\n      else return true;\r\n    }\r\n  };\r\n  const checkCursor = (obj) => {\r\n    let result = true;\r\n    for (const key in obj) {\r\n      if (obj[key].check !== true) {\r\n        result = false;\r\n        break;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const accessToken = localStorage.getItem(\"access_token\");\r\n    if (accessToken) navigate(\"/todo\");\r\n  }, []);\r\n  useEffect(() => {\r\n    if (menu === \"로그인\") setUserInfo(LOGIN_INITIAL);\r\n    else setUserInfo(SIGNUP_INITIAL);\r\n  }, [menu]);\r\n  return (\r\n    <LoginComponent>\r\n      <div>\r\n        <div className=\"menu\">\r\n          {menuArray.map((v, i) => (\r\n            <div\r\n              key={i}\r\n              onClick={() => menuClickHandler(v)}\r\n              className={menu === v ? \"select\" : \"\"}\r\n            >\r\n              {v}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <form onSubmit={onSubmit}>\r\n          <h1>{menu}</h1>\r\n          <InputBox\r\n            type=\"text\"\r\n            value={userInfo}\r\n            onChange={onChange}\r\n            id={\"email\"}\r\n          />\r\n          <InputBox\r\n            type=\"password\"\r\n            value={userInfo}\r\n            onChange={onChange}\r\n            id={\"password\"}\r\n          />\r\n          {menu === \"회원가입\" ? (\r\n            <InputBox\r\n              type=\"password\"\r\n              value={userInfo}\r\n              id={\"passwordCheck\"}\r\n              onChange={onChange}\r\n            />\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          <Button onClick={onSubmit} style={{ cursor }}>\r\n            {menu}\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </LoginComponent>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"names":["_defineProperty","obj","key","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","SERVER_URL","process","headers","postSignup","data","axios","res","localStorage","setItem","access_token","console","log","postLogin","response","status","alert","InputBoxComponent","styled","type","id","onChange","errorMsg","check","deafultValue","txt","defaultValue","e","className","ButtonComponent","style","width","height","cursor","children","onClick","LoginComponent","useState","menu","setMenu","navigate","useNavigate","LOGIN_INITIAL","email","password","SIGNUP_INITIAL","passwordCheck","userInfo","setUserInfo","setCursor","state","newState","validity","checkCursor","onSubmit","preventDefault","then","includes","result","useEffect","getItem","map","v"],"sourceRoot":""}